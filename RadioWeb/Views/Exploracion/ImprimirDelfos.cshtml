@model RadioWeb.ViewModels.VWImprimirFicha
@{
    Layout = String.Empty;
}
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Ficha @Model.PACIENTE</title>

    <style type="text/css">
        .invoice-box {
            max-width: 800px;
            margin: auto;
            border: 1px solid #eee;
            box-shadow: 0 0 10px rgba(0, 0, 0, .15);
            font-size: 14px;
            line-height: 24px;
            font-family: 'Verdana, Geneva, Tahoma, sans-serif';
            color: #555;
        }

            .invoice-box table {
                width: 100%;
                line-height: inherit;
            }

                .invoice-box table td {
                    padding: 5px;
                    vertical-align: top;
                }

                    .invoice-box table td.negrita {
                        padding: 5px;
                        vertical-align: top;
                        font-weight: bold;
                    }

                .invoice-box table tr td:nth-child(2) {
                    text-align: right;
                }


                .invoice-box table tr.top table td.title {
                    font-size: 14px;
                    line-height: 45px;
                    color: #333;
                }



                .invoice-box table tr.heading td {
                    background: #eee;
                    border-bottom: 1px solid #ddd;
                    font-weight: bold;
                }

                .invoice-box table tr.details td {
                    padding-bottom: 20px;
                }

                .invoice-box table tr.item td {
                    border-bottom: 1px solid #eee;
                }

                .invoice-box table tr.item.last td {
                    border-bottom: none;
                }

                .invoice-box table tr.total td:nth-child(2) {
                    border-top: 2px solid #eee;
                    font-weight: bold;
                }
    </style>
</head>
<body>
    <div class="invoice-box">

        @if (Model.QRCOMPARTIRCASO == "T")
    {
        <table cellpadding="0" cellspacing="0" border="0">
            <tr class="information">
                <td width="900" style="color:red;">
                    EL PACIENTE HA SOL.LICITA LA RECOLLIDA ONLINE - NO IMPRIMIR INFORME E IMATGES
                </td>
            </tr>
        </table>
}
 

        <table cellpadding="0" cellspacing="0" border="0">

            <tr class="information">
                <td width="85">
                    ID EXPLO: @Model.OID - ID PAC:@Model.IOR_PACIENTE
                    @if (Model.CID == 2)
    {
                <span style="color:red;font-size:19pt;">INGRESADO</span>
}
                </td>
                <td width="85">
                    ID PAC: @Model.IOR_PACIENTE

                </td>

            </tr>
            <tr class="information">
                <td colspan="2" class="negrita">
                    Pacient:@Model.PACIENTE @if (!String.IsNullOrEmpty(Model.DNI))
                {
                    @Html.Raw(" - DNI:"); @Model.DNI;
            }
                </td>
            </tr>
            <tr class="information">
                <td>
                    Data naixement: @Model.FECHAN - Edat: @Model.EDAD
                </td>
                <td align="right">
                    <p style="font-size:11px">@DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss")</p>
                </td>
            </tr>
            <tr class="information">
                <td colspan="2">
                    Teléfon: @Model.NUMERO
                </td>
            </tr>
            <tr class="information">
                <td colspan="2">
                    Prescriptor: @Model.NOMBRECOLEGIADO
                </td>
            </tr>
            <tr class="information">
                <td colspan="2">
                    Finançament: @Model.NOMBRE (@Model.CONDICION)
                </td>
            </tr>
            <tr class="information">
                <td width="500" colspan="2">
                    Data Exploracio: @Model.FECHA.ToShortDateString() - @Model.HORA (@Model.HORA_LL)
                </td>

            </tr>
        </table>
        <table cellpadding="0" cellspacing="0" border="0">

            <tr>
                <td>
                    Exploració:
                </td>
                <td>
                    @Model.DES_FIL
                    @foreach (var item in Model.EXPLOSASOCIADAS)
                {
                    if (item.IOR_MASTER == Model.OID || item.OID == Model.IOR_MASTER)
                    {
                        <br />
                        @String.Concat(item.DES_FIL)
                }
            }
                </td>
            </tr>
        </table>

        <table cellpadding="0" cellspacing="0" border="0">
            <tr class="information">
                <td valign="bottom" style="vertical-align:bottom; border-bottom: thin solid;">Radiofàrmac:</td>
                <td style="width:650px;"><hr style="margin-top:2px;" /></td>

            </tr>

            <tr class="information">
                <td valign="bottom" width="130px;" style="vertical-align:bottom;border-bottom: thin solid;">Dosi Injectada:</td>
                <td><hr style="margin-top:2px;" /></td>

            </tr>
            <tr class="information">
                <td valign="bottom" style="vertical-align:bottom;border-bottom: thin solid;">Hora Injecció:</td>
                <td style="width:650px;"><hr style="margin-top:2px;" /></td>

            </tr>
            <tr class="information">
                <td valign="bottom" style="vertical-align:bottom;border-bottom: thin solid;">Operador:</td>
                <td style="width:650px;"><hr style="margin-top:2px;" /></td>

            </tr>
            <tr class="information">
                <td valign="bottom" style="vertical-align:bottom;border-bottom: thin solid;">Incidencies:</td>
                <td style="width:650px;"><hr style="margin-top:2px;" /></td>

            </tr>
            <tr class="information">
                <td valign="bottom" style="vertical-align:top;border-bottom: thin solid;">História Clinica:</td>
                <td style="width:650px;" colspan="2"><hr style="margin-top:2px;" /></td>
                @*@if (!String.IsNullOrEmpty(Model.HISTORIACLINICA))
    {
            <td style="width:650px;"><p style="font-size:10px">@Model.HISTORIACLINICA</p></td>

}
else
{


}*@

            </tr>
            <tr class="information">

                <td style="width:650px;" colspan="2"><hr style="margin-top:2px;" /></td>

            </tr>
            <tr class="information">

                <td style="width:650px;" colspan="2"><hr style="margin-top:2px;" /></td>

            </tr>
            <tr class="information">

                <td style="width:650px;" colspan="2"><hr style="margin-top:2px;" /></td>

            </tr>

            <tr class="information">

                <td style="width:650px;" colspan="2"><hr style="margin-top:2px;" /></td>

            </tr>
        </table>
        <table cellpadding="0" cellspacing="0" border="0">
            <tr class="information">
                <td colspan="2">
                    ALTRES PROVES
                </td>

            </tr>
            @foreach (var item in Model.EXPLOSASOCIADAS)
        {
            if (item.IOR_MASTER != Model.OID && item.OID != Model.IOR_MASTER)
            {
                <tr class="item">
                    <td>
                        @item.FECHA.ToShortDateString()
                    </td>
                    <td>
                        @item.HORA
                    </td>
                    <td align="right">
                        @item.COD_FIL @item.DES_FIL
                    </td>
                </tr>
        }

    }
        </table>
    </div>
    <script src="https://app.simm.barcelona/js/custom/code39/code39.js"></script>
    <script type="text/javascript">
        /* <![CDATA[ */
        function get_object(id) {
            var object = null;
            if (document.layers) {
                object = document.layers[id];
            } else if (document.all) {
                object = document.all[id];
            } else if (document.getElementById) {
                object = document.getElementById(id);
            }
            return object;
        }
        get_object("inputdata").innerHTML = DrawCode39Barcode(get_object("inputdata").innerHTML, 1);
/* ]]> */
    </script>
</body>
</html>
